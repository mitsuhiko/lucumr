{% extends "layout.html" %}
{% block title %}Tags{% endblock %}
{% block body %}
  <h1>Tags</h1>

  <p>
    <a href="/archive/">Browse chronological archive</a>
  </p>

  <ul class=tagcloud>
  {%- for tag in get_tags(limit=50) %}
    <li><a href="{{ link_to('tag', tag=tag.name) }}" style="font-size: {{
      tag.size }}%" data-count="{{ tag.count }}" class="tag-link">{{ tag.name }}</a>
  {%- endfor %}
  </ul>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const tagLinks = document.querySelectorAll('.tag-link');
      
      tagLinks.forEach(function(link) {
        const count = link.getAttribute('data-count');
        const tooltip = document.createElement('div');
        tooltip.className = 'tag-tooltip';
        tooltip.textContent = count === '1' ? '1 article' : count + ' articles';
        link.appendChild(tooltip);
      });
    });
  </script>
{% endblock %}
